<!-- <p>dashboard works!</p> -->
<mat-drawer-container>
    <mat-drawer mode="side" [opened]="sideBarOpen">
    <!-- <mat-drawer mode="side" opened="true"> -->
      <app-sidenav></app-sidenav>
    </mat-drawer>
  
  
    <mat-drawer-content>
      <app-header (toggleSidenavbarBtn)="sideBarToggler()"></app-header>
      <div class="container-fluid row p-0 m-0" style="background: #f5fafe;height: 100%;">

          <div style="height: 50px;" class="container d-flex align-items-center ps-3 mb-3 ">
            <img src="../../../assets/adduser.png" alt="" srcset="">
          </div>

          <div class="container h-auto pb-5">
             <div class="user-form">
                <div class="p-2 ">
                  <h3 class="ms-3 mt-2" style="font-weight: bolder;">User Details</h3>
                  <hr/>
                </div>

                <div class="upload-img d-flex ps-4 mb-5">
                  <div class="ms-3 imgcircle d-flex justify-content-center align-items-center overflow-hidden">
                    <img *ngIf="!userForm.get('imageUrl')?.value"  src="../../../assets/imgIcon.png"
                        alt="default image" width="25px" height="25px" class="image" />
    
                    <img *ngIf="userForm.get('imageUrl')?.value"
                        [src]="userForm.get('imageUrl')?.value"  alt="default image" width="70px" height="-webkit-fill-available" class="image" />
                  </div>
                  <div class="ms-3">
                    <p class="uploadtext">Upload User image</p>
                    <label for="imageUrl" class="browse text-primary">Browse</label>
                    <input type="file" id="imageUrl" size="1" accept=".png, .jpg, .svg" class="image-url" (change)="uploadImage($event)">
                  </div>
                </div>


                <div class="container h-auto">
                  <form class="pb-4" action="" [formGroup]="userForm" (ngSubmit)="onSubmit()">
                    <div class="form-group row mb-5">
                      <div class="col-4">
                          <div>
                              <label class="form-label text-weight" for="firstName">First Name</label>
                          </div>
                          <input type="text" id="firstName" (keypress)="blockSpaceValidaton($event)" class="form-control" placeholder="First Name" formControlName="firstName" />
                          <div *ngIf="
                            getControl('firstName')?.errors &&
                            (getControl('firstName')?.touched ||
                              getControl('firstName')?.dirty)
                          ">
                          <small class="text-danger" *ngIf="getControl('firstName')?.errors?.['required']">First name is required</small>   
                           </div>
                      </div>
                         
                      <div class="col-4">
                          <div>
                              <label class="form-label text-weight" for="middleName">Middle Name</label>
                          </div>
                          <input type="text" id="middleName" (keypress)="blockSpaceValidaton($event)" class="form-control" placeholder="Middle Name" formControlName="middleName" />
                      </div>
      
                      <div class="col-4">
                          <div>
                              <label class="form-label text-weight" for="lastName">Last Name</label>
                          </div>
                          <input type="text" id="lastName" (keypress)="blockSpaceValidaton($event)" class="form-control" placeholder="Last Name" formControlName="lastName"
                           />
                           <div *ngIf="
                            getControl('lastName')?.errors &&
                            (getControl('lastName')?.touched ||
                              getControl('lastName')?.dirty)
                          ">
                          <small class="text-danger" *ngIf="getControl('lastName')?.errors?.['required']">Last name is required</small>   
                           </div>
                      </div>
                    </div>

                    <div class="form-group row mb-5">
                        <div class="col-md-4">
                          <label for="inputState" class="form-label">Gender</label>
                          <select id="inputState" class="form-select" formControlName="gender">
                            <option selected>Select Your Gender...</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Others</option>
                          </select>
                          <div *ngIf="
                            getControl('gender')?.errors &&
                            (getControl('gender')?.touched ||
                              getControl('gender')?.dirty)
                          ">
                          <small class="text-danger" *ngIf="getControl('gender')?.errors?.['required']">Gender is required</small>   
                           </div>
                        </div>

                        <div class="col-4">
                            <div>
                                <label class="form-label text-weight" for="dob">Date Of Birth</label>
                            </div>
                            <input type="date" id="dob" class="form-control" 
                            max="{{dateNow}}" placeholder="Date Of birth" formControlName="dob" />
                            <div *ngIf="
                            getControl('dob')?.errors &&
                            (getControl('dob')?.touched ||
                              getControl('dob')?.dirty)
                          ">
                          <small class="text-danger" *ngIf="getControl('dob')?.errors?.['required']">Dob is required</small>   
                           </div>
                        </div>
      
                        <div class="col-4">
                            <div>
                                <label class="form-label text-weight" for="Email">Email</label>
                            </div>
                            <input type="email" id="Email" class="form-control" placeholder="Email" formControlName="email" />
                            <div *ngIf="
                            getControl('email')?.errors &&
                            (getControl('email')?.touched ||
                              getControl('email')?.dirty)
                          ">
                          <small class="text-danger" *ngIf="getControl('email')?.errors?.['required']">email is required</small>   
                           </div>
                        </div>
                    </div>
                    
                    <div class="form-group row mb-5">
                      <div class="col-4">
                          <div>
                            <label class="form-label text-weight" for="dateofjoining">Date Of Joining</label>
                          </div>
                          <input type="date" id="dateofjoining" class="form-control" placeholder="Date of joining" formControlName="dateOfJoining" >
                      </div>
      
                      <div class="col-4">
                          <div>
                            <label class="form-label text-weight" for="Phone">Phone</label>
                          </div>
                          <input type="tel" id="Phone" (keypress)="PhoneNumberValidation($event)" class="form-control" placeholder="Phone" formControlName="phone" >
                          <div *ngIf="
                            getControl('phone')?.errors &&
                            (getControl('phone')?.touched ||
                              getControl('phone')?.dirty)
                          ">
                          <small class="text-danger" *ngIf="getControl('phone')?.errors?.['required']">Phone is required</small>   
                           </div>
                      </div>
      
                      <div class="col-4">
                          <div>
                           <label class="form-label text-weight" for="alternatephone">Alternate Phone</label>
                          </div>
                          <input type="email" id="alternatephone" class="form-control" placeholder="Alternate Phone" formControlName="alternatePhone">
                      </div>
                    </div>
                     
                    <div class="address1">
                      <p class="mb-3" style="font-size: 20px;">Address</p>
                      <hr>
                      <div class="form-group row">
                        <div class="col-4">
                          <div>
                            <label class="form-label text-weight" for="lastName">Address Line 1</label>
                          </div>
                          <input type="text" id="lastName" (keypress)="blockSpaceValidaton($event)" class="form-control" placeholder="Address1" formControlName="addressLine1" />
                        </div>
                        <div class="col-4">
                          <label for="inputState" class="form-label">Country</label>
                          <select id="inputState" class="form-select" 
                          (click)="setCountryCode($event)" formControlName="country">
                          <option value="" selected>Select Country</option>
                          <option *ngFor="let country of countryList" value={{country.isoCode}}>
                            {{country.name}}
                          </option>
                          </select>
                        </div>
                        <div class="col-4">
                          <label class="form-label text-weight" >State<span
                                  class="required-field"></span></label>
                          <select class="form-control" name="state" 
                              (click)="setStateCode($event)" formControlName="state">
                              <option value="" disabled selected>Select State</option>
                              <option *ngFor="let state of stateListBasedOnCountryCode" [value]="state.isoCode">{{state.name}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group row mt-3">               
                        <div class="col-4">
                          <label class="form-label text-weight" >City<span
                                  class="required-field"></span></label>
                          <select class="form-control" name="city" formControlName="city">
                              <option value="" disabled selected>Select City</option>
                              <option *ngFor="let city of cityListBasedOnStateCode" 
                              [value]="city.name">
                                {{city.name}}</option>
                          </select>
                        </div>
                        <div class="col-3">
                          <div>
                            <label class="form-label text-weight" for="lastName">Zip Code</label>
                          </div>
                          <input type="text" id="lastName"  (keypress)="PhoneNumberValidation($event)" class="form-control" placeholder="zipCode" formControlName="zipCode" />
                        </div>
                      </div>
                    </div> 

                    <div class="address2 mt-5">
                      <p class="mb-3" style="font-size: 20px;">Alternate Address</p>
                      <hr>
                      <div class="form-group row">
                        <div class="col-4">
                          <div>
                            <label class="form-label text-weight" for="lastName">Address Line 2</label>
                          </div>
                          <input type="text" id="lastName" (keypress)="blockSpaceValidaton($event)" class="form-control" placeholder="Address1" formControlName="addressLine2"  />
                        </div>
                        <div class="col-4">
                          <label for="inputState" class="form-label">Country</label>
                          <select id="inputState" class="form-select" 
                          (click)="setCountryCode($event)" formControlName="country2">
                          <option value="" selected>Select Country</option>
                          <option *ngFor="let country of countryList" value={{country.isoCode}}>
                            {{country.name}}
                          </option>
                          </select>
                        </div>
                        <div class="col-4">
                          <label class="form-label text-weight" >State<span
                                  class="required-field"></span></label>
                          <select class="form-control" name="state" 
                              (click)="setStateCode($event)" formControlName="state2">
                              <option value="" disabled selected>Select State</option>
                              <option *ngFor="let state of stateListBasedOnCountryCode" [value]="state.isoCode">{{state.name}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group row mt-3">               
                        <div class="col-4">
                          <label class="form-label text-weight" >City<span
                                  class="required-field"></span></label>
                          <select class="form-control" name="city" formControlName="city2" >
                              <option value="" disabled selected>Select City</option>
                              <option *ngFor="let city of cityListBasedOnStateCode" 
                              [value]="city.name">
                                {{city.name}}</option>
                          </select>
                        </div>
                        <div class="col-3">
                          <div>
                            <label class="form-label text-weight" for="lastName">Zip Code</label>
                          </div>
                          <input type="text" id="lastName" (keypress)="PhoneNumberValidation($event)" class="form-control" placeholder="zipcode" formControlName="zipCode2" />
                        </div>
                      </div>
                    </div> 
                    
                    <div class="activeStatus mt-5">
                      <input type="checkbox" name="" id="active" (change)="onChange($event)">
                      <label class="ms-3" for="active">InActive</label>
                    </div>

                    <div class="mt-3 d-flex justify-content-end">
                      <button  type="submit" class="ps-4 pe-4 btn btn-primary">Save</button>
                    </div>
                  </form>
                </div>
             </div>   
          </div>

      </div>
    </mat-drawer-content>
  
  
</mat-drawer-container>